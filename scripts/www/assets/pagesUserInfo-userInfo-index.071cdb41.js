import{y as h,ac as I,v as k,A as B,B as r,h as m,j as f,o as i,c as p,w as o,d as a,C,k as b,E as U,at as g,aG as w,aH as v,aI as S,aJ as y,aK as A,i as L}from"./index.1767597253495.js";import{_ as T}from"./u-avatar.98b05466.js";import{_ as N}from"./u-input.a7e81434.js";import{_ as z}from"./u-loading-icon.673d6857.js";import{A as D}from"./index.80508513.js";import{_ as E}from"./_plugin-vue_export-helper.c27b6911.js";import"./u-icon.33222906.js";const P=h({__name:"index",setup(j){const s=I({name:"",real_name:"",phone:""}),c=k(!1),V=async()=>{var u,e;if(!s.real_name)return g("姓名为必填项!");if(!s.phone)return g("手机号为必填项!");c.value=!0;var _={uid:(u=r)==null?void 0:u.userInfo.id.toString(),token:(e=r)==null?void 0:e.userInfo.token,real_name:s.real_name,phone:s.phone};console.log("提交数据",_);const l=await w(_);if(console.log("请求结果",l),l.returnCode==200){r.userInfo=l.data;const n=v("toUrl"),d=v("liveParam");n&&d?(console.log("有需要跳转的路径和参数"),n=="/"||n=="/pages/index/index"?S({url:"/pages/index/index?"+d}):y({url:n+"?"+d})):n?(console.log("有需要跳转的路径但是没有参数"),y({url:n})):(console.log("没有需要跳转的路径和参数"),A({delta:1})),c.value=!1}else c.value=!1};return B(()=>{var _,l,u;console.log("onLoad",r),s.name=(_=r)==null?void 0:_.userInfo.name,s.phone=(l=r)==null?void 0:l.userInfo.phone,s.real_name=(u=r)==null?void 0:u.userInfo.real_name}),(_,l)=>{const u=m(f("up-avatar"),T),e=L,n=m(f("up-input"),N),d=m(f("up-loading-icon"),z);return i(),p(D,null,{default:o(()=>[a(e,{class:"userbox"},{default:o(()=>[a(e,{class:"formBox"},{default:o(()=>[a(e,{class:"avatarBox"},{default:o(()=>{var t,x;return[a(u,{src:(x=(t=C(r))==null?void 0:t.userInfo)==null?void 0:x.pic,size:"80",style:{margin:"0 auto"}},null,8,["src"])]}),_:1}),a(e,{class:"form"},{default:o(()=>[a(e,{class:"form-box"},{default:o(()=>[a(e,{class:"label"},{default:o(()=>[b(" 昵称 ")]),_:1}),a(e,{class:"input"},{default:o(()=>[a(n,{placeholder:"请输入昵称",border:"none",modelValue:s.name,"onUpdate:modelValue":l[0]||(l[0]=t=>s.name=t),disabled:!0,class:"_u_border-none"},null,8,["modelValue"])]),_:1})]),_:1}),a(e,{class:"form-box"},{default:o(()=>[a(e,{class:"label"},{default:o(()=>[b(" 姓名 ")]),_:1}),a(e,{class:"input"},{default:o(()=>[a(n,{placeholder:"请输入姓名",border:"none",modelValue:s.real_name,"onUpdate:modelValue":l[1]||(l[1]=t=>s.real_name=t),class:"_u_border-none"},null,8,["modelValue"])]),_:1})]),_:1}),a(e,{class:"form-box"},{default:o(()=>[a(e,{class:"label"},{default:o(()=>[b(" 手机号 ")]),_:1}),a(e,{class:"input"},{default:o(()=>[a(n,{placeholder:"请输入手机号",border:"none",modelValue:s.phone,"onUpdate:modelValue":l[2]||(l[2]=t=>s.phone=t),class:"_u_border-none"},null,8,["modelValue"])]),_:1})]),_:1}),a(e,{class:"form-box"},{default:o(()=>[a(e,{class:"btnBox"},{default:o(()=>[c.value?(i(),p(e,{key:1,class:"btnSubmit"},{default:o(()=>[a(d,{color:"#fff",size:"18",class:"_u_color--w111-fff"})]),_:1})):(i(),p(e,{key:0,class:"btnSubmit",onClick:V},{default:o(()=>[U("span",null,"提交")]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});const M=E(P,[["__scopeId","data-v-00f6608a"]]);export{M as default};
