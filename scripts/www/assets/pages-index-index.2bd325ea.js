import{m as W,a as E,o as s,c as n,w as i,n as O,b as m,d as r,e as f,f as S,F as I,r as M,i as z,g as q,h as x,j,k as l,t as g,l as J,p as G,q as X,s as Q,S as K,u as Y,v as C,x as Z,y as ee,z as te,A as ie,B as re,C as c,D as A,E as U,G as V}from"./index.1767597253495.js";import{_ as ae}from"./u-loading-icon.673d6857.js";import{_ as D}from"./_plugin-vue_export-helper.c27b6911.js";import{g as se,a as ne,b as oe,c as le,d as ue}from"./home.c6cabe6a.js";import{I as F}from"./index.7e46097d.js";import{A as ce}from"./index.80508513.js";import{N as de}from"./index.ce942f0e.js";import"./u-search.8580cc22.js";import"./u-icon.33222906.js";const pe={props:{length:{type:[String,Number],default:()=>uni.$u.props.swiperIndicator.length},current:{type:[String,Number],default:()=>uni.$u.props.swiperIndicator.current},indicatorActiveColor:{type:String,default:()=>uni.$u.props.swiperIndicator.indicatorActiveColor},indicatorInactiveColor:{type:String,default:()=>uni.$u.props.swiperIndicator.indicatorInactiveColor},indicatorMode:{type:String,default:()=>uni.$u.props.swiperIndicator.indicatorMode}}};const _e={name:"u-swiper-indicator",mixins:[W,E,pe],data(){return{lineWidth:22}},computed:{lineStyle(){let e={};return e.width=uni.$u.addUnit(this.lineWidth),e.transform=`translateX(${uni.$u.addUnit(this.current*this.lineWidth)})`,e.backgroundColor=this.indicatorActiveColor,e},dotStyle(){return e=>{let o={};return o.backgroundColor=e===this.current?this.indicatorActiveColor:this.indicatorInactiveColor,o}}}};function ge(e,o,v,k,h,u){const p=z;return s(),n(p,{class:"u-swiper-indicator"},{default:i(()=>[e.indicatorMode==="line"?(s(),n(p,{key:0,class:O(["u-swiper-indicator__wrapper",[`u-swiper-indicator__wrapper--${e.indicatorMode}`]]),style:m({width:e.$u.addUnit(h.lineWidth*e.length),backgroundColor:e.indicatorInactiveColor})},{default:i(()=>[r(p,{class:"u-swiper-indicator__wrapper--line__bar",style:m([u.lineStyle])},null,8,["style"])]),_:1},8,["class","style"])):f("",!0),e.indicatorMode==="dot"?(s(),n(p,{key:1,class:"u-swiper-indicator__wrapper"},{default:i(()=>[(s(!0),S(I,null,M(e.length,(_,w)=>(s(),n(p,{class:O(["u-swiper-indicator__wrapper__dot",[w===e.current&&"u-swiper-indicator__wrapper__dot--active"]]),key:w,style:m([u.dotStyle(w)])},null,8,["class","style"]))),128))]),_:1})):f("",!0)]),_:1})}const fe=D(_e,[["render",ge],["__scopeId","data-v-176855f5"]]),ye={props:{list:{type:Array,default:()=>uni.$u.props.swiper.list},indicator:{type:Boolean,default:()=>uni.$u.props.swiper.indicator},indicatorActiveColor:{type:String,default:()=>uni.$u.props.swiper.indicatorActiveColor},indicatorInactiveColor:{type:String,default:()=>uni.$u.props.swiper.indicatorInactiveColor},indicatorStyle:{type:[String,Object],default:()=>uni.$u.props.swiper.indicatorStyle},indicatorMode:{type:String,default:()=>uni.$u.props.swiper.indicatorMode},autoplay:{type:Boolean,default:()=>uni.$u.props.swiper.autoplay},current:{type:[String,Number],default:()=>uni.$u.props.swiper.current},currentItemId:{type:String,default:()=>uni.$u.props.swiper.currentItemId},interval:{type:[String,Number],default:()=>uni.$u.props.swiper.interval},duration:{type:[String,Number],default:()=>uni.$u.props.swiper.duration},circular:{type:Boolean,default:()=>uni.$u.props.swiper.circular},previousMargin:{type:[String,Number],default:()=>uni.$u.props.swiper.previousMargin},nextMargin:{type:[String,Number],default:()=>uni.$u.props.swiper.nextMargin},acceleration:{type:Boolean,default:()=>uni.$u.props.swiper.acceleration},displayMultipleItems:{type:Number,default:()=>uni.$u.props.swiper.displayMultipleItems},easingFunction:{type:String,default:()=>uni.$u.props.swiper.easingFunction},keyName:{type:String,default:()=>uni.$u.props.swiper.keyName},imgMode:{type:String,default:()=>uni.$u.props.swiper.imgMode},height:{type:[String,Number],default:()=>uni.$u.props.swiper.height},bgColor:{type:String,default:()=>uni.$u.props.swiper.bgColor},radius:{type:[String,Number],default:()=>uni.$u.props.swiper.radius},loading:{type:Boolean,default:()=>uni.$u.props.swiper.loading},showTitle:{type:Boolean,default:()=>uni.$u.props.swiper.showTitle}}};const he={name:"u-swiper",mixins:[W,E,ye],data(){return{currentIndex:0}},watch:{current(e,o){e!==o&&(this.currentIndex=e)}},emits:["click","change"],computed:{itemStyle(){return e=>{const o={};return this.nextMargin&&this.previousMargin&&(o.borderRadius=uni.$u.addUnit(this.radius),e!==this.currentIndex&&(o.transform="scale(0.92)")),o}}},methods:{getItemType(e){if(typeof e=="string")return uni.$u.test.video(this.getSource(e))?"video":"image";if(typeof e=="object"&&this.keyName)return e.type?e.type==="image"?"image":e.type==="video"?"video":"image":uni.$u.test.video(this.getSource(e))?"video":"image"},getSource(e){return typeof e=="string"?e:typeof e=="object"&&this.keyName?e[this.keyName]:(uni.$u.error("请按格式传递列表参数"),"")},change(e){const{current:o}=e.detail;this.pauseVideo(this.currentIndex),this.currentIndex=o,this.$emit("change",e.detail)},pauseVideo(e){const o=this.getSource(this.list[e]);uni.$u.test.video(o)&&q(`video-${e}`,this).pause()},getPoster(e){return typeof e=="object"&&e.poster?e.poster:""},clickHandler(e){this.$emit("click",e)}}};function we(e,o,v,k,h,u){const p=x(j("u-loading-icon"),ae),_=z,w=G,N=X,y=Q,L=K,t=Y,b=x(j("u-swiper-indicator"),fe);return s(),n(_,{class:"u-swiper",style:m({backgroundColor:e.bgColor,height:e.$u.addUnit(e.height),borderRadius:e.$u.addUnit(e.radius)})},{default:i(()=>[e.loading?(s(),n(_,{key:0,class:"u-swiper__loading"},{default:i(()=>[r(p,{mode:"circle"})]),_:1})):(s(),n(t,{key:1,class:"u-swiper__wrapper",style:m({height:e.$u.addUnit(e.height)}),onChange:u.change,circular:e.circular,interval:e.interval,duration:e.duration,autoplay:e.autoplay,current:e.current,currentItemId:e.currentItemId,previousMargin:e.$u.addUnit(e.previousMargin),nextMargin:e.$u.addUnit(e.nextMargin),acceleration:e.acceleration,displayMultipleItems:e.displayMultipleItems,easingFunction:e.easingFunction},{default:i(()=>[(s(!0),S(I,null,M(e.list,(d,$)=>(s(),n(L,{class:"u-swiper__wrapper__item",key:$},{default:i(()=>[r(_,{class:"u-swiper__wrapper__item__wrapper",style:m([u.itemStyle($)])},{default:i(()=>[u.getItemType(d)==="image"?(s(),n(w,{key:0,class:"u-swiper__wrapper__item__wrapper__image",src:u.getSource(d),mode:e.imgMode,onClick:B=>u.clickHandler($),style:m({height:e.$u.addUnit(e.height),borderRadius:e.$u.addUnit(e.radius)})},null,8,["src","mode","onClick","style"])):f("",!0),u.getItemType(d)==="video"?(s(),n(N,{key:1,class:"u-swiper__wrapper__item__wrapper__video",id:`video-${$}`,"enable-progress-gesture":!1,src:u.getSource(d),poster:u.getPoster(d),title:e.showTitle&&e.$u.test.object(d)&&d.title?d.title:"",style:m({height:e.$u.addUnit(e.height)}),controls:"",onClick:B=>u.clickHandler($)},null,8,["id","src","poster","title","style","onClick"])):f("",!0),e.showTitle&&e.$u.test.object(d)&&d.title&&e.$u.test.image(u.getSource(d))?(s(),n(y,{key:2,class:"u-swiper__wrapper__item__wrapper__title u-line-1"},{default:i(()=>[l(g(d.title),1)]),_:2},1024)):f("",!0)]),_:2},1032,["style"])]),_:2},1024))),128))]),_:1},8,["style","onChange","circular","interval","duration","autoplay","current","currentItemId","previousMargin","nextMargin","acceleration","displayMultipleItems","easingFunction"])),r(_,{class:"u-swiper__indicator",style:m([e.$u.addStyle(e.indicatorStyle)])},{default:i(()=>[J(e.$slots,"indicator",{},()=>[!e.loading&&e.indicator&&!e.showTitle?(s(),n(b,{key:0,indicatorActiveColor:e.indicatorActiveColor,indicatorInactiveColor:e.indicatorInactiveColor,length:e.list.length,current:h.currentIndex,indicatorMode:e.indicatorMode},null,8,["indicatorActiveColor","indicatorInactiveColor","length","current","indicatorMode"])):f("",!0)],!0)]),_:3},8,["style"])]),_:3},8,["style"])}const me=D(he,[["render",we],["__scopeId","data-v-24c6e6b8"]]),ve="./static/images/live.png",$e="./static/images/tabs.png",ke="./static/images/ks.png",be="./static/images/zj.png",Ce=()=>{const e=C([]),o=C(0),v=async()=>{const t=await se();e.value=t.data},k=C([]),h=async()=>{const t=await ne({method:"h5",take:3});k.value=t.data},u=C([]),p=async()=>{const t=await oe({page:1,per_page:3});u.value=t.data.data},_=C([]),w=async()=>{const t=await le({page:1,per_page:9});_.value=t.data.data},N=C([]),y=async()=>{const t=await ue({page:1,per_page:7});N.value=t.data.data},L=async()=>{await v(),await h(),await p(),await w(),await y()};return Z(()=>{L()}),{banners:e,swiperCurrent:o,videoList:k,specialList:u,classList:_,peopleList:N,getBanners:v,getVideoList:h,getSpecialList:p}},Se=ee({__name:"index",setup(e){const{banners:o,videoList:v,specialList:k,classList:h,peopleList:u,swiperCurrent:p}=Ce(),_=C(),w=()=>{A("LiveList")};return te(()=>{_.value&&_.value.handleScroll()}),ie(()=>{console.log("cache",JSON.stringify(re)),console.log("banners",JSON.stringify(o.value))}),(N,y)=>{const L=x(j("up-swiper"),me),t=z,b=G,d=Q;return s(),n(ce,null,{default:i(()=>[r(t,{class:"content"},{default:i(()=>{var $,B,P,R,H;return[r(de,{ref_key:"navQueryRef",ref:_},null,512),(($=c(o))==null?void 0:$.length)!=0?(s(),n(t,{key:0,class:"u-demo-block"},{default:i(()=>[r(L,{list:c(o),autoplay:!1,keyName:"pic",height:"180",circularradius:"5",previousMargin:"20",nextMargin:"20",bgColor:"#fff",showTitle:"",circular:"",current:c(p),class:"_u_showTitle _u_circular"},null,8,["list","current"])]),_:1})):f("",!0),((B=c(v))==null?void 0:B.length)!=0?(s(),n(t,{key:1,class:"debutBox"},{default:i(()=>[r(t,{class:"title"},{default:i(()=>[r(t,{class:"text-left"},{default:i(()=>[r(b,{src:ve,mode:"widthFix",style:{width:"40rpx","margin-right":"12rpx"}}),l(" 即将开始 ")]),_:1}),r(t,{class:"text-right",onClick:w},{default:i(()=>[l(" 更多直播 "),r(F,{color:"#bcbcbc",icon:"i-icon-park-outline-right",size:"25",class:"_u_color--w111-bcbcbc"})]),_:1})]),_:1}),(s(!0),S(I,null,M(c(v),a=>(s(),n(t,{class:"debutContent",key:a.id,onClick:T=>c(A)("Live",{lid:a.id})},{default:i(()=>[r(t,{class:"left-img"},{default:i(()=>[U("img",{src:a.pic,style:{width:"100%",height:"100%"},width:"100%",hieght:"100%",alt:"",class:"_u_alt"},null,8,["src"]),a.status=="直播中"?(s(),n(t,{key:0,class:"tab-start"},{default:i(()=>[l(g(a.status),1)]),_:2},1024)):a.status=="未开始"?(s(),n(t,{key:1,class:"tab-finish"},{default:i(()=>[l(g(a.status),1)]),_:2},1024)):a.status=="回放中"?(s(),n(t,{key:2,class:"tab-noStart"},{default:i(()=>[l(g(a.status),1)]),_:2},1024)):f("",!0)]),_:2},1024),r(t,{class:"right-info"},{default:i(()=>[r(t,{class:"title"},{default:i(()=>[l(g(a.title),1)]),_:2},1024),r(t,{class:"tips"},{default:i(()=>[l(g(a.OwnerAlias),1)]),_:2},1024),r(t,{class:"tips-date"},{default:i(()=>[r(t,{class:"date"},{default:i(()=>[l(g(a.StartTime),1)]),_:2},1024),r(t,{class:"number"},{default:i(()=>[l(g(a.Views?a.Views:0)+"观看 ",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):f("",!0),((P=c(k))==null?void 0:P.length)!=0?(s(),n(t,{key:2,class:"specialBox"},{default:i(()=>[r(t,{class:"title"},{default:i(()=>[r(t,{class:"text-left"},{default:i(()=>[r(b,{src:$e,mode:"widthFix",style:{width:"40rpx","margin-right":"12rpx"}}),l(" 精彩专题 ")]),_:1})]),_:1}),(s(!0),S(I,null,M(c(k),a=>(s(),n(t,{class:"specialContent",key:a.id,onClick:T=>c(V)(a.id,"专题",a)},{default:i(()=>[r(t,{class:"img"},{default:i(()=>[U("img",{src:a.pic,class:"img-pic"},null,8,["src"])]),_:2},1024),r(t,{class:"text"},{default:i(()=>[r(t,{class:"font"},{default:i(()=>[l(g(a.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),r(t,{class:"moreBtn",onClick:y[0]||(y[0]=a=>c(A)("Special"))},{default:i(()=>[r(F,{color:"#237aff",icon:"i-solar-play-bold",size:"25",class:"_u_color--w111-237aff"}),r(t,{class:"text"},{default:i(()=>[l(" 更多 ")]),_:1})]),_:1})]),_:1})):f("",!0),((R=c(h))==null?void 0:R.length)!=0?(s(),n(t,{key:3,class:"DepartmentBox"},{default:i(()=>[r(t,{class:"title"},{default:i(()=>[r(t,{class:"text-left"},{default:i(()=>[r(b,{src:ke,mode:"widthFix",style:{width:"40rpx","margin-right":"12rpx"},alt:"",class:"_u_alt"}),l(" 科室分类 ")]),_:1}),r(t,{class:"text-right",onClick:y[1]||(y[1]=a=>c(A)("Class"))},{default:i(()=>[l(" 查看全部 "),r(F,{color:"#bcbcbc",icon:"i-icon-park-outline-right",size:"25",class:"_u_color--w111-bcbcbc"})]),_:1})]),_:1}),r(t,{class:"DepartmentGrid"},{default:i(()=>[(s(!0),S(I,null,M(c(h),a=>(s(),n(t,{class:"DepartmentGridBox",key:a.id,onClick:T=>c(V)(a.id,"科室",a)},{default:i(()=>[r(t,{class:"icon"},{default:i(()=>[r(b,{src:a.pic,mode:"heightFix",style:{height:"200rpx"},alt:"",class:"_u_alt"},null,8,["src"])]),_:2},1024),r(d,{class:"grid-text-title"},{default:i(()=>[l(g(a.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):f("",!0),((H=c(u))==null?void 0:H.length)!=0?(s(),n(t,{key:4,class:"DepartmentBox2"},{default:i(()=>[r(t,{class:"title"},{default:i(()=>[r(t,{class:"text-left"},{default:i(()=>[r(b,{src:be,mode:"widthFix",style:{width:"40rpx","margin-right":"12rpx"}}),l(" 专家分类 ")]),_:1}),r(t,{class:"text-right",onClick:y[2]||(y[2]=a=>c(A)("Speaker"))},{default:i(()=>[l(" 查看全部 "),r(F,{color:"#bcbcbc",icon:"i-icon-park-outline-right",size:"25",class:"_u_color--w111-bcbcbc"})]),_:1})]),_:1}),(s(!0),S(I,null,M(c(u),a=>(s(),n(t,{class:"content",key:a.id,onClick:T=>c(V)(a.id,"专家",a)},{default:i(()=>[r(t,{class:"left-img"},{default:i(()=>[U("img",{src:a.pic,style:{width:"100%",height:"100%"},width:"100%",hieght:"100%",alt:"",class:"_u_alt"},null,8,["src"])]),_:2},1024),r(t,{class:"right-info"},{default:i(()=>[r(t,{class:"title"},{default:i(()=>[r(t,{class:"text"},{default:i(()=>[l(g(a.name),1)]),_:2},1024)]),_:2},1024),r(t,{class:"tips"},{default:i(()=>[l(g(a.company_position),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):f("",!0)]}),_:1})]),_:1})}}});const Ve=D(Se,[["__scopeId","data-v-f2c64eae"]]);export{Ve as default};
