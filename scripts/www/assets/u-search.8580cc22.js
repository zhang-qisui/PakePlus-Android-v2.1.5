import{m as g,a as _,aq as n,h as b,j as k,o as h,c as p,w as t,d as a,b as l,l as C,k as d,t as m,e as y,n as S,ar as $,s as w,i as v,ah as I}from"./index.1767597253495.js";import{_ as B}from"./u-icon.33222906.js";import{_ as A}from"./_plugin-vue_export-helper.c27b6911.js";const z={props:{shape:{type:String,default:()=>uni.$u.props.search.shape},bgColor:{type:String,default:()=>uni.$u.props.search.bgColor},placeholder:{type:String,default:()=>uni.$u.props.search.placeholder},clearabled:{type:Boolean,default:()=>uni.$u.props.search.clearabled},focus:{type:Boolean,default:()=>uni.$u.props.search.focus},showAction:{type:Boolean,default:()=>uni.$u.props.search.showAction},actionStyle:{type:Object,default:()=>uni.$u.props.search.actionStyle},actionText:{type:String,default:()=>uni.$u.props.search.actionText},inputAlign:{type:String,default:()=>uni.$u.props.search.inputAlign},inputStyle:{type:Object,default:()=>uni.$u.props.search.inputStyle},disabled:{type:Boolean,default:()=>uni.$u.props.search.disabled},borderColor:{type:String,default:()=>uni.$u.props.search.borderColor},searchIconColor:{type:String,default:()=>uni.$u.props.search.searchIconColor},color:{type:String,default:()=>uni.$u.props.search.color},placeholderColor:{type:String,default:()=>uni.$u.props.search.placeholderColor},searchIcon:{type:String,default:()=>uni.$u.props.search.searchIcon},searchIconSize:{type:[Number,String],default:()=>uni.$u.props.search.searchIconSize},margin:{type:String,default:()=>uni.$u.props.search.margin},animation:{type:Boolean,default:()=>uni.$u.props.search.animation},modelValue:{type:String,default:()=>uni.$u.props.search.value},value:{type:String,default:()=>uni.$u.props.search.value},maxlength:{type:[String,Number],default:()=>uni.$u.props.search.maxlength},height:{type:[String,Number],default:()=>uni.$u.props.search.height},label:{type:[String,Number,null],default:()=>uni.$u.props.search.label}}};const N={name:"u-search",mixins:[g,_,z],data(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},watch:{keyword(e){this.$emit("update:modelValue",e),this.$emit("change",e)},modelValue:{immediate:!0,handler(e){this.keyword=e}}},computed:{showActionBtn(){return!this.animation&&this.showAction}},emits:["clear","search","custom","focus","blur","click","clickIcon","update:modelValue","change"],methods:{inputChange(e){this.keyword=e.detail.value},clear(){this.keyword="",this.$nextTick(()=>{this.$emit("clear")})},search(e){this.$emit("search",e.detail.value);try{n()}catch{}},custom(){this.$emit("custom",this.keyword);try{n()}catch{}},getFocus(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur(){setTimeout(()=>{this.focused=!1},100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler(){this.disabled&&this.$emit("click")},clickIcon(e){this.$emit("clickIcon",this.keyword);try{n()}catch{}}}};function T(e,c,V,F,s,o){const i=w,u=b(k("u-icon"),B),r=v,f=I;return h(),p(r,{class:"u-search",onClick:o.clickHandler,style:l([{margin:e.margin},e.$u.addStyle(e.customStyle)])},{default:t(()=>[a(r,{class:"u-search__content",style:l({backgroundColor:e.bgColor,borderRadius:e.shape=="round"?"100px":"4px",borderColor:e.borderColor})},{default:t(()=>[e.$slots.label||e.label!==null?C(e.$slots,"label",{key:0},()=>[a(i,{class:"u-search__content__label"},{default:t(()=>[d(m(e.label),1)]),_:1})],!0):y("",!0),a(r,{class:"u-search__content__icon"},{default:t(()=>[a(u,{onClick:o.clickIcon,size:e.searchIconSize,name:e.searchIcon,color:e.searchIconColor?e.searchIconColor:e.color},null,8,["onClick","size","name","color"])]),_:1}),a(f,{"confirm-type":"search",onBlur:o.blur,value:s.keyword,onConfirm:o.search,onInput:o.inputChange,disabled:e.disabled,onFocus:o.getFocus,focus:e.focus,maxlength:e.maxlength,"placeholder-class":"u-search__content__input--placeholder",placeholder:e.placeholder,"placeholder-style":`color: ${e.placeholderColor}`,class:"u-search__content__input",type:"text",style:l([{textAlign:e.inputAlign,color:e.color,backgroundColor:e.bgColor,height:e.$u.addUnit(e.height)},e.inputStyle])},null,8,["onBlur","value","onConfirm","onInput","disabled","onFocus","focus","maxlength","placeholder","placeholder-style","style"]),s.keyword&&e.clearabled&&s.focused?(h(),p(r,{key:1,class:"u-search__content__icon u-search__content__close",onClick:o.clear},{default:t(()=>[a(u,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})]),_:1},8,["onClick"])):y("",!0)]),_:3},8,["style"]),a(i,{style:l([e.actionStyle]),class:S(["u-search__action",[(o.showActionBtn||s.show)&&"u-search__action--active"]]),onClick:$(o.custom,["stop","prevent"])},{default:t(()=>[d(m(e.actionText),1)]),_:1},8,["style","class","onClick"])]),_:3},8,["onClick","style"])}const M=A(N,[["render",T],["__scopeId","data-v-0d66a158"]]);export{M as _};
