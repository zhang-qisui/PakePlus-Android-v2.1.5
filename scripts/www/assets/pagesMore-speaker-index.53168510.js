import{y as L,v as t,z as P,A as T,x as A,h as V,j as b,o as d,c as p,w as o,d as n,E as C,k as g,f as Q,r as $,F,e as N,I as S,i as I,C as M,G as R,t as B}from"./index.1767597253495.js";import{_ as j}from"./u-loadmore.2e529468.js";import{_ as q}from"./zj.f36d9a7d.js";import{A as z}from"./index.80508513.js";import{N as G}from"./index.ce942f0e.js";import{E as H}from"./index.48c17fa0.js";import{d as J}from"./home.c6cabe6a.js";import{_ as K}from"./_plugin-vue_export-helper.c27b6911.js";import"./u-loading-icon.673d6857.js";import"./u-search.8580cc22.js";import"./u-icon.33222906.js";const O=L({__name:"index",setup(U){const l=t([]),u=t(1),m=t(10),c=t(0),e=t("loadmore"),x=t("努力加载中 ！"),y=t("点击载更多"),h=t("没有更多数据了"),D=async()=>{l.value=[],u.value=1,m.value=10,c.value=0,e.value="loadmore",x.value="努力加载中 ！",y.value="点击载更多",h.value="没有更多数据了"},w=async()=>{var k={page:u.value,per_page:m.value};const s=await J(k);if(s.returnCode==200){var a=[...l.value,...s.data.data];const _=new Map,v=a.filter(i=>_.has(i.id)?!1:(_.set(i.id,!0),!0));l.value=v,c.value=s.data.total,u.value=s.data.current_page,m.value=s.data.per_page,l.value.length>=c.value?e.value="nomore":e.value="loadmore"}},E=async()=>{if(e.value=="nomore"){console.log("没有更多数据了"),S({title:"已经没有更多数据了",duration:2e3,icon:"none"});return}else e.value=="loadmore"?(e.value="loading",u.value=Number(u.value)+1,await w(),l.value.length==c.value?e.value="nomore":e.value="loadmore"):e.value=="loading"&&S({title:"当前正在加载中",duration:2e3,icon:"none"})},f=t();return P(()=>{f.value&&f.value.handleScroll()}),T(()=>{D()}),A(()=>{w()}),(k,s)=>{const a=I,_=V(b("up-loadmore"),j);return d(),p(z,null,{default:o(()=>[n(G,{style:{width:"95%"},ref_key:"navQueryRef",ref:f},null,512),n(a,{class:"DepartmentBox2"},{default:o(()=>{var v,i;return[n(a,{class:"title"},{default:o(()=>[n(a,{class:"text-left"},{default:o(()=>[C("img",{src:q,style:{width:"30upx","margin-right":"5upx"},alt:"",class:"_u_alt"}),g(" 专家分类 ")]),_:1})]),_:1}),(d(!0),Q(F,null,$(l.value,r=>(d(),p(a,{class:"content",key:r.id,onClick:W=>M(R)(r.id,"专家",r)},{default:o(()=>[n(a,{class:"left-img"},{default:o(()=>[C("img",{src:r.pic,style:{width:"100%",height:"100%"},width:"100%",hieght:"100%",alt:"",class:"_u_alt"},null,8,["src"])]),_:2},1024),n(a,{class:"right-info"},{default:o(()=>[n(a,{class:"title"},{default:o(()=>[g(B(r.name),1)]),_:2},1024),n(a,{class:"tips"},{default:o(()=>[g(B(r.company_position),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),((v=l.value)==null?void 0:v.length)!=0?(d(),p(_,{key:0,dashed:"",line:"",status:e.value,"loading-text":x.value,"loadmore-text":y.value,"nomore-text":h.value,onClick:s[0]||(s[0]=r=>E()),class:"_u_dashed _u_line"},null,8,["status","loading-text","loadmore-text","nomore-text"])):N("",!0),((i=l.value)==null?void 0:i.length)==0?(d(),p(H,{key:1})):N("",!0)]}),_:1})]),_:1})}}});const ue=K(O,[["__scopeId","data-v-e044b12d"]]);export{ue as default};
